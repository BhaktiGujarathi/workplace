<apex:page standardController="McaApp__Stips__c" recordSetVar="Stips" extensions="StipSelectController">
    <apex:sectionHeader title="Stips"/>
    <style type="text/css">
      .pbTitle {
            white-space: nowrap;
        }
        .custPopup{
            background-color: white;
            border-width: 2px;
            border-style: solid;
            z-index: 9999;
            left: 50%;
            padding:10px;
            position: absolute;            
            width: 500px;
            margin-left: -250px;
            top:100px;
        }
        .popupBackground{
            background-color:black;
            opacity: 0.2;
            filter: alpha(opacity = 20);
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 9998;
        }
    </style>
    <apex:pageMessages ></apex:pageMessages>
    <apex:form id="frmId" >
        <Apex:pageBlock id="pbid" >
            
            <Apex:outputPanel id="veriListId">
                <apex:pageBlockTable value="{!lstStipMaster}" var="s">
                    <apex:column headerValue="Select">
                        <apex:inputCheckbox value="{!s.selected}"/>
                    </apex:column>
                    <apex:column headerValue="Name">
                        <apex:outputField value="{!s.objStip.Name}"/>
                    </apex:column>
                    <apex:column headerValue="Notes">
                        <apex:outputField value="{!s.objStip.Notes__c}"/>
                    </apex:column>
                    <apex:column headerValue="Type">
                        <apex:outputField value="{!s.objStip.Type__c}"/>
                    </apex:column>
                    <!--<apex:column headerValue="Owner">
                      <apex:outputField value="{!s.objStip.Owner.Name}"/>
                    </apex:column>-->
                </apex:pageBlockTable>
            </Apex:outputPanel>
            
            <Apex:pageBlockButtons >
                <apex:commandButton value="Done" action="{!done}"/>
                <apex:commandButton value="New Stip" action="{!newStip}"/>
                <apex:commandButton value="Cancel" action="{!Cancel}"/>
            </Apex:pageBlockButtons>

      </Apex:pageBlock>
     
        <apex:outputPanel id="panelId" styleClass="popupBackground" layout="block" rendered="{!displayPopUp}" />
        
        <apex:outputPanel styleClass="custPopup" layout="block" rendered="{!displayPopUp}">            
                <apex:pageBlock title="New Stip" >
                    <apex:pageBlockSection columns="1" >                               
                       <apex:inputField value="{!objNewStip.Name}" required="true"/>                            
                       <apex:inputField value="{!objNewStip.Type__c}"/>
                       <apex:inputField value="{!objNewStip.Notes__c}" style="width: 253px;height: 40px;"/>            
                    </apex:pageBlockSection>
                    <apex:pageBlockButtons location="bottom">
                        <apex:commandButton value="Save" action="{!SaveAndClose}" />
                        <apex:commandButton value="Cancel" action="{!CancelNew}" immediate="true" />
                    </apex:pageBlockButtons>
                </apex:pageBlock>                                    
        </apex:outputPanel>           
  </apex:form> 
</apex:page>