<apex:page standardController="Opportunity" showHeader="false" sidebar="false" extensions="DealOfferAttachmentController">

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

    <script type="text/javascript">

        j$ = jQuery.noConflict();

                //Check All unCheck All function
        function checkBoxSelection(selectVal,className) {

            //Get all checkbox elements
            var selElements = document.getElementsByClassName(className);

            console.log('all ' + selElements);

            for (var i = 0; i < selElements.length; i++) {

                console.log('hi ' + selElements[i].checked);
            }
        }


    </script>

  
    <apex:form id="theForm">

    
    <apex:messages />

        <apex:pageBlock >

            <apex:inputFile value="{!attachment.body}" filename="{!attachment.name}"/>

            <apex:commandButton value="Save" action="{!insertAttachment}"/>

            <apex:actionFunction name="parFunction"> </apex:actionFunction> &nbsp; &nbsp;&nbsp; 

            <apex:commandButton value="View Attachments" action="{!getAllAttachments}"/>       

            <br></br>
            <br></br>
            
            <apex:outputpanel >

                <div style="overflow:auto;width:100%;height:400px">
                
                    <apex:pageBlockTable value="{!wrappers}" var="wrapper">
                        <apex:column >
                            <apex:inputCheckbox value="{!wrapper.isSelected}" styleClass="iptCheckboxAttach" id="chkBox">
                                <apex:inputField style="display:none;" value="{!wrapper.record.Id}" />
                            </apex:inputCheckbox>
                            
                        </apex:column>
                        <apex:column value="{!wrapper.record.Name}"></apex:column>                    
                        <apex:column value="{!wrapper.attachmentSize}" headerValue="Size (KB)" style="text-align: right" headerClass="headerRight"></apex:column>     
                    </apex:pageBlockTable>
              
                </div>

            </apex:outputPanel>

        </apex:pageBlock>

    </apex:form>

</apex:page>