public with sharing class MCAAttachmentTabController {
	
	 public Attachment[] attachments;
	 public Container[] containers;
	 private Id opportunityId;
	 
	 public MCAAttachmentTabController(){
	 	opportunityId = Apexpages.currentPage().getParameters().get('id');
	 }
	 
	 public Container[] getContainers() {

    attachments = new Attachment[] {};
    containers = new Container[] {};

    //tasks.addAll(newTasks);

    attachments.addAll([Select a.ParentId,
    						 a.Name,
    						 a.IsPrivate,
    						 a.Id,
    						 a.Description,
    						 a.ContentType,
    						 a.BodyLength,
    						 a.Body
    						 From Attachment a
                    WHERE WhatId = :opportunityId]);
                    
    for (Integer i = 0; i < attachments.size(); i++) {
      containers.add(new Container(attachments[i], i));
    }

    return containers;
  }

}